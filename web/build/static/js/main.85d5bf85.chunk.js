(this.webpackJsonpprojweb2=this.webpackJsonpprojweb2||[]).push([[0],{40:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n(11),r=n.n(a),s=(n(40),n(27)),c=n(28),i=n(35),d=n(32),l=n(33),u=n(14),h=n(9),f=n.n(h),p=n(69),g=n(70),b=n(30),v="ADD_REMINDER",m="DELETE_REMINDER",k="CLEAR_REMINDERS",j="https://tasse-de-the-web-h5bxp.ondigitalocean.app/",y=n(6),x=n.n(y),w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return console.log("action in addReminder: ",e,t,n,o,a,r,s),{id:e,type:v,text:t,dueDate:n,timestamp:o,category:a,checked:r,eID:s}},O=function(e){return{type:m,id:e}},D=function(){x.a.get("https://tasse-de-the-web-h5bxp.ondigitalocean.app/tasks/id").then((function(e){var t=e.data;if("success"===t.response&&200===t.code)return t.body}))},C=function(){return console.log("clearReminders called"),{type:k}},N=n(1),R=function(e){var t=Object(l.a)(e),n=t[0],o=t.slice(1),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.language;return n.toLocaleUpperCase(a)+o.join("")},T=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={text:"",dueDate:"",category:"",tags:[],checked:0},o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.clearReminders(),this.props.fetchTasks()}},{key:"addReminder",value:function(){this.props.addTask(this.state.text,this.state.dueDate,this.state.category),document.querySelectorAll("input").forEach((function(e){return e.value=""}))}},{key:"deleteReminder",value:function(e,t,n){this.props.deleteTask(e,t,n)}},{key:"emptyDB",value:function(){this.props.emptyDB()}},{key:"fetchTasks",value:function(){this.props.fetchTasks()}},{key:"renderReminders",value:function(){var e=this,t=this.props.reminders;return Object(N.jsx)("ul",{className:"list-group",children:t.map((function(t){return Object(N.jsx)("div",{className:"reminder-tasks",children:Object(N.jsxs)("li",{className:"list-group-item reminder-items",children:[Object(N.jsxs)("div",{className:"list-item",children:[t.checked?Object(N.jsx)("div",{style:{textDecorationLine:"line-through"},children:t.text}):Object(N.jsx)("div",{children:t.text}),Object(N.jsxs)("div",{children:[Object(N.jsx)(p.a,{style:{backgroundColor:"#007bff",color:"#fff"},children:f()(new Date(t.dueDate)).subtract(1,"M").fromNow()}),Object(N.jsx)(p.a,{color:"info",style:{backgroundColor:"#2ecc71",color:"#fff",marginLeft:"5px"},children:R(t.category)}),Object(N.jsxs)(p.a,{style:{backgroundColor:"#dc3545",color:"#fff",marginLeft:"5px"},children:["Created at: ",f()(new Date(t.timestamp)).format("DD/MM/YYYY")]})]})]}),Object(N.jsx)("div",{className:"list-item delete-button",onClick:function(){return e.deleteReminder(t.id,t.text,t.eID)},children:"\u2715"})]},t.id)},Math.floor(100*Math.random()))}))})}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)("div",{className:"sandbox sandbox-correct-pronounciation",children:Object(N.jsx)("h1",{className:"heading heading-correct-pronounciation",children:Object(N.jsx)("var",{style:{textTransform:"none"},children:"Tasse de Th\xe9"})})}),Object(N.jsxs)("div",{className:"form-inline reminder-form",children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("input",{className:"form-control",placeholder:"I have to...",onChange:function(t){return e.setState({text:t.target.value})}}),Object(N.jsx)("input",{className:"form-control",placeholder:"Category",onChange:function(t){return e.setState({category:t.target.value})}}),Object(N.jsx)("input",{className:"form-control",type:"datetime-local",onChange:function(t){return e.setState({dueDate:t.target.value})}})]}),Object(N.jsx)(g.a,{type:"button",className:"btn btn-success",onClick:function(){return e.addReminder()},children:"Add a new task"}),Object(N.jsx)("div",{className:"btn btn-danger",onClick:function(){return e.props.emptyDB()},children:"Clear all tasks"}),this.renderReminders()]})]})}}]),n}(o.Component);var E=Object(u.b)((function(e){return{reminders:e}}),{addReminder:w,deleteReminder:O,clearReminders:C,emptyDB:function(){return function(e){return x.a.post("https://tasse-de-the-web-h5bxp.ondigitalocean.app/tasks/delete").then((function(t){var n=t.data;200!==n.code?console.error("Error: ",n.response," ",n.body):(console.log("axios response: ",n),e(C()))}))}},fetchTasks:function(){return function(e){return x.a.get("https://tasse-de-the-web-h5bxp.ondigitalocean.app/tasks/all").then((function(t){var n=t.data;if(n){var o,a=Object(b.a)(n);try{for(a.s();!(o=a.n()).done;){var r=o.value;console.log("record: ",r);var s=new Date(r.taskYear,r.taskMonth,r.taskDay,r.taskHour,r.taskMinute,r.taskSecond).toISOString(),c=r.task,i=r.timestamp,d=r.category,l=r.taskChecked,u=r.eID;e(w(r.id,c,s,i,d,l,u))}}catch(h){a.e(h)}finally{a.f()}}else console.error("Error: ",n)}))}},addTask:function(e,t,n){console.log("fID:",D());var o={"Content-Type":"application/json"},a=f()(new Date(t)),r=D()+1;console.log("tID: ",r);var s=a.date(),c=a.month()+1,i=a.year(),d=a.hour(),l=a.minute(),u=a.second();return function(t){return x()({method:"post",url:"https://tasse-de-the-web-h5bxp.ondigitalocean.app/task/add",headers:o,data:[{content:e,category:n,taskChecked:0,taskYear:i,taskMonth:c,taskDay:s,taskSubs:{},taskPriority:0,tid:Math.floor(950*Math.random()),taskHour:d,taskMinute:l,taskSecond:u}]}).then((function(e){var n=e.data;console.log("addTask axios response: ",n),200===n.code&&"success"===n.response&&(console.log("task added successfully!"),console.log(n.body[0],n.body[1],n.body[2],n.body[3],n.body[4]),t(w(n.body[0],n.body[1],n.body[2],n.body[3],n.body[4],0)))}))}},deleteTask:function(e,t,n){var o=j+"task/delete/"+e+"/"+n;return function(n){return x()({method:"delete",url:o,data:{task:t}}).then((function(t){var o=t.data;"success"===o.response&&200===o.code&&n(O(e))}))}}})(T),M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),r(e),s(e)}))},L=n(8),A=n(31),W=n(34),B=function(e){return{id:e.id,text:e.text,dueDate:e.dueDate,timestamp:e.timestamp,category:e.category,checked:e.checked,eID:e.eID}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return e.id!==t}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case v:return n=[].concat(Object(W.a)(e),[B(t)]),n;case m:return n=Y(e,t.id),n;case k:return n=[],n;default:return e}},F=Object(L.c)(P,Object(L.a)(A.a));window.store=F;var U=F;r.a.render(Object(N.jsx)(u.a,{store:U,children:Object(N.jsx)(E,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");M?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):S(t,e)}))}}(),I()}},[[67,1,2]]]);
//# sourceMappingURL=main.85d5bf85.chunk.js.map